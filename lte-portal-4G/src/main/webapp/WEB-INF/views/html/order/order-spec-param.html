<#if (prodSpecParams)?? &&((prodSpecParams)?size>0)>
	
	<#list prodSpecParams as prodSpec>
	<#assign rule=prodSpec.rule />
	<li>
	
	<label style="width:120px;">${prodSpec.name}：</label>
	<#if prodSpec.itemSpecId=="800000011" > <!-- prodSpec.dataSourceTypeCd=="test" -->
		<input type="hidden" 
		id="${prodSpec.itemSpecId}_${prodId}" name="prodSpec_${prodId}" value="${prodSpec.value}" 
		itemSpecId="${prodSpec.itemSpecId}" prodSpecItemId="${prodSpec.prodSpecParamId}" 
		check_name="${prodSpec.name}" check_mask="${rule.mask}" check_mess="${rule.maskMsg}" 
		check_len="${rule.attrLen}" check_option="${rule.isOptional}" 
		dataType="${prodSpec.dataTypeCd}" oldValue="${prodSpec.value}" 
		check_type="check"
		 />
		<input type="text" class="inputWidth183px" id="${prodSpec.itemSpecId}_${prodId}_name" readonly="readonly" disabled="disabled"/>
		<!-- 使用人 -->
	    <#if prodSpec.itemSpecId=="800000011" >
	    <input type="button" value="选择使用人" class="purchase" id="choose_user_btn_${prodId}" />
	    </#if>
		<#if rule.isOptional=="N" >
			<label class="f_red">*</label>
	      	<div class="order_check" style="display: none"></div>
	      	<div class="order_check_error" style="display: none"></div>
	    </#if>
	<#elseif prodSpec.dataSourceTypeCd==4 >
		<select class="inputWidth183px" 
		id="${prodSpec.itemSpecId}_${prodId}" name="prodSpec_${prodId}" value="${prodSpec.value}" 
		itemSpecId="${prodSpec.itemSpecId}" prodSpecItemId="${prodSpec.prodSpecParamId}" 
		check_name="${prodSpec.name}" check_mask="${rule.mask}" check_mess="${rule.maskMsg}" 
		check_len="${rule.attrLen}" check_option="${rule.isOptional}" 
		dataType="${prodSpec.dataTypeCd}" oldValue="${prodSpec.value}" 
		<#if rule.isEnabled=="Y" >check_type="check"<#else>check_type="uncheck" disabled="disabled"</#if>  >
		<#if prodSpec.value=="">
		<option value="">--请选择--</option>
		</#if>
		<#list prodSpec.valueRange as valueRange>
			<option value="${valueRange.value}" <#if prodSpec.value==valueRange.value >selected="selected"</#if> >${valueRange.text}</option>	
		</#list>
		</select>
		<#if rule.isOptional=="N" >
			<label class="f_red">*</label>
	    </#if>
	<#else>
	
		<input type="<#if prodSpec.dataTypeCd==8 >password<#else>text</#if>" class="inputWidth183px" 
		id="${prodSpec.itemSpecId}_${prodId}" name="prodSpec_${prodId}" value="${prodSpec.value}" 
		itemSpecId="${prodSpec.itemSpecId}" prodSpecItemId="${prodSpec.prodSpecParamId}" 
		check_name="${prodSpec.name}" check_mask="${rule.mask}" check_mess="${rule.maskMsg}" 
		check_len="${rule.attrLen}" check_option="${rule.isOptional}" 
		dataType="${prodSpec.dataTypeCd}" oldValue="${prodSpec.value}" 
		check_type="check"
		
		<#if prodSpec.dataTypeCd?? && prodSpec.dataTypeCd=="4" >
			readonly="readonly"
			onclick="$.calendar({ format:'yyyy年MM月dd日 ',real:'#${prodSpec.itemSpecId}_${prodId}' });" 
		<#elseif prodSpec.dataTypeCd?? && prodSpec.dataTypeCd="16" >
			readonly="readonly"
			onclick="$.calendar({ format:'yyyy年MM月dd日  HH:mm:ss',real:'#${prodSpec.itemSpecId}_${prodId}' });"
		<#elseif rule.isConstant=="N" && rule.isEnabled=="Y" >
			onblur="order.main.check_parm_self(this)" 
		<#elseif rule.isConstant=="Y" >
			readonly="readonly"
		<#elseif rule.isEnabled=="N" >
			readonly="readonly"
		<#else>
			
		</#if>
		 />
		<#if rule.isOptional=="N" >
			<label class="f_red">*</label>
	      	<div class="order_check" style="display: none"></div>
	      	<div class="order_check_error" style="display: none"></div>
	    </#if>
	</#if>
	
	</li>
	</#list>
	
	<#if ((prodSpecParams)?size) % 2 == 1>
		<li><label> </label></li>
  	</#if>
<script type="text/javascript" charset="utf-8">
	<#list prodSpecParams as prodSpec>
		<#if prodSpec.dataSourceTypeCd==4 >
		var valueRange = [];
		<#list prodSpec.valueRange as valueRan>
		    var itemRelation = [];
		    <#list valueRan.itemRelation as itemRel>
		        itemRelation.push({
		        	"itemRelId" : "${itemRel.itemSpecId}_${prodId}",
		    	    "itemSpecId" : "${itemRel.itemSpecId}",
		    	    "itemSpecName" : "${itemRel.itemSpecName}",
		    	    "minQty" : "${itemRel.minQty}"
		        });
		    </#list>
		    valueRange.push({
		    	"value" : "${valueRan.value}",
		    	"text" : "${valueRan.text}",
		    	"itemRelation" : itemRelation
		    });
		</#list>
		OrderInfo.prodAttrs.push({
			    "isOptional" : "${prodSpec.rule.isOptional}",
			    "name" : "${prodSpec.name}",
			    "value" : "${prodSpec.value}",
			    "id" : "${prodSpec.itemSpecId}_${prodId}",
			    "valueRange" : valueRange
		    });
		<#else>
		OrderInfo.prodAttrs.push({
			    "isOptional" : "${prodSpec.rule.isOptional}",
			    "name" : "${prodSpec.name}",
			    "value" : "${prodSpec.value}",
			    "id" : "${prodSpec.itemSpecId}_${prodId}"
		    });
		</#if>
	</#list>
</script>  	
<#else>
0
</#if>