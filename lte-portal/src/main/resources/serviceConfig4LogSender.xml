<?xml version="1.0" encoding="UTF-8"?>
<services>
	<service id="21" serviceCode="logSendService" serviceEnName="logSendService" serviceCnName="logSendService" state="A">
		<endpoints>
			<endpoint id="2101" endpointCode="logService_p1" endpointName="logService_p1" 
				endpointSpecCode="virtual">				
			</endpoint>
			<endpoint id="2102" endpointCode="logService_p2" endpointName="logService_p2" 
				endpointSpecCode="mq">
				<endpointAttrs> 
					<endpointAttr attrSpecCode="comsumerConcurrents" attrValue="1" />	
					<endpointAttr attrSpecCode="concurrents" attrValue="${log.send.concurrents}" />	
					<endpointAttr attrSpecCode="capacity" attrValue="2000" />	
					<endpointAttr attrSpecCode="countPerBatch" attrValue="${log.send.batchSize}" />							
				</endpointAttrs>
			</endpoint>
	
			<endpoint id="2103" endpointCode="logService_p3" endpointName="logService_p3" 
				endpointSpecCode="socketClient">
				<endpointAttrs>
					<endpointAttr attrSpecCode="address" attrValue="${log.socketClient.address}">
					</endpointAttr>
					<endpointAttr attrSpecCode="maxActive" attrValue="${log.socketClient.maxActive}" />
					<endpointAttr attrSpecCode="minIdle" attrValue="${log.socketClient.minIdle}" />		
					<endpointAttr attrSpecCode="targetService" attrValue="logReceiver" />	
					<!-- 	
					<endpointAttr attrSpecCode="waitForConnectComplete" attrValue="true" />	
					 -->					
				</endpointAttrs>
			</endpoint>
		</endpoints>
		<serviceRoutes>
			<serviceRoute fromEndpoint="2101" toEndpoint="2102" >				
				<routePolicy strategyCode="DIRECT" >					
				</routePolicy>
			</serviceRoute>		
			<!--  -->
			<serviceRoute fromEndpoint="2102" toEndpoint="2103" >				
				<routePolicy strategyCode="DIRECT" />					
			</serviceRoute>			
			
		</serviceRoutes>
	</service>
</services>